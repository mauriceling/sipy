<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Memory Management and Garbage Collection · The Julia Language</title><meta name="title" content="Memory Management and Garbage Collection · The Julia Language"/><meta property="og:title" content="Memory Management and Garbage Collection · The Julia Language"/><meta property="twitter:title" content="Memory Management and Garbage Collection · The Julia Language"/><meta name="description" content="Documentation for The Julia Language."/><meta property="og:description" content="Documentation for The Julia Language."/><meta property="twitter:description" content="Documentation for The Julia Language."/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-28835595-6"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-28835595-6', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/julia-manual.css" rel="stylesheet" type="text/css"/><link href="../assets/julia.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img class="docs-light-only" src="../assets/logo.svg" alt="The Julia Language logo"/><img class="docs-dark-only" src="../assets/logo-dark.svg" alt="The Julia Language logo"/></a><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Julia Documentation</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="getting-started.html">Getting Started</a></li><li><a class="tocitem" href="installation.html">Installation</a></li><li><a class="tocitem" href="variables.html">Variables</a></li><li><a class="tocitem" href="integers-and-floating-point-numbers.html">Integers and Floating-Point Numbers</a></li><li><a class="tocitem" href="mathematical-operations.html">Mathematical Operations and Elementary Functions</a></li><li><a class="tocitem" href="complex-and-rational-numbers.html">Complex and Rational Numbers</a></li><li><a class="tocitem" href="strings.html">Strings</a></li><li><a class="tocitem" href="functions.html">Functions</a></li><li><a class="tocitem" href="control-flow.html">Control Flow</a></li><li><a class="tocitem" href="variables-and-scoping.html">Scope of Variables</a></li><li><a class="tocitem" href="types.html">Types</a></li><li><a class="tocitem" href="methods.html">Methods</a></li><li><a class="tocitem" href="constructors.html">Constructors</a></li><li><a class="tocitem" href="conversion-and-promotion.html">Conversion and Promotion</a></li><li><a class="tocitem" href="interfaces.html">Interfaces</a></li><li><a class="tocitem" href="modules.html">Modules</a></li><li><a class="tocitem" href="documentation.html">Documentation</a></li><li><a class="tocitem" href="metaprogramming.html">Metaprogramming</a></li><li><a class="tocitem" href="arrays.html">Single- and multi-dimensional Arrays</a></li><li><a class="tocitem" href="missing.html">Missing Values</a></li><li><a class="tocitem" href="networking-and-streams.html">Networking and Streams</a></li><li><a class="tocitem" href="parallel-computing.html">Parallel Computing</a></li><li><a class="tocitem" href="asynchronous-programming.html">Asynchronous Programming</a></li><li><a class="tocitem" href="multi-threading.html">Multi-Threading</a></li><li><a class="tocitem" href="distributed-computing.html">Multi-processing and Distributed Computing</a></li><li><a class="tocitem" href="running-external-programs.html">Running External Programs</a></li><li><a class="tocitem" href="calling-c-and-fortran-code.html">Calling C and Fortran Code</a></li><li><a class="tocitem" href="handling-operating-system-variation.html">Handling Operating System Variation</a></li><li><a class="tocitem" href="environment-variables.html">Environment Variables</a></li><li><a class="tocitem" href="embedding.html">Embedding Julia</a></li><li><a class="tocitem" href="code-loading.html">Code Loading</a></li><li><a class="tocitem" href="profile.html">Profiling</a></li><li><a class="tocitem" href="stacktraces.html">Stack Traces</a></li><li class="is-active"><a class="tocitem" href="memory-management.html">Memory Management and Garbage Collection</a><ul class="internal"><li><a class="tocitem" href="#man-gc-overview"><span>Garbage Collection Overview</span></a></li><li><a class="tocitem" href="#man-memory-architecture"><span>Memory Architecture</span></a></li><li><a class="tocitem" href="#man-system-memory"><span>System Memory Requirements</span></a></li><li><a class="tocitem" href="#man-gc-multithreading"><span>Multithreaded Garbage Collection</span></a></li><li><a class="tocitem" href="#man-gc-monitoring"><span>Monitoring and Debugging</span></a></li><li><a class="tocitem" href="#man-gc-performance"><span>Performance Considerations</span></a></li><li><a class="tocitem" href="#man-gc-advanced"><span>Advanced Configuration</span></a></li><li><a class="tocitem" href="#man-gc-troubleshooting"><span>Troubleshooting Memory Issues</span></a></li></ul></li><li><a class="tocitem" href="performance-tips.html">Performance Tips</a></li><li><a class="tocitem" href="workflow-tips.html">Workflow Tips</a></li><li><a class="tocitem" href="style-guide.html">Style Guide</a></li><li><a class="tocitem" href="faq.html">Frequently Asked Questions</a></li><li><a class="tocitem" href="noteworthy-differences.html">Noteworthy Differences from other Languages</a></li><li><a class="tocitem" href="unicode-input.html">Unicode Input</a></li><li><a class="tocitem" href="command-line-interface.html">Command-line Interface</a></li><li><a class="tocitem" href="worldage.html">The World Age mechanism</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Base</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../base/base.html">Essentials</a></li><li><a class="tocitem" href="../base/collections.html">Collections and Data Structures</a></li><li><a class="tocitem" href="../base/math.html">Mathematics</a></li><li><a class="tocitem" href="../base/numbers.html">Numbers</a></li><li><a class="tocitem" href="../base/strings.html">Strings</a></li><li><a class="tocitem" href="../base/arrays.html">Arrays</a></li><li><a class="tocitem" href="../base/parallel.html">Tasks</a></li><li><a class="tocitem" href="../base/multi-threading.html">Multi-Threading</a></li><li><a class="tocitem" href="../base/scopedvalues.html">Scoped Values</a></li><li><a class="tocitem" href="../base/constants.html">Constants</a></li><li><a class="tocitem" href="../base/file.html">Filesystem</a></li><li><a class="tocitem" href="../base/io-network.html">I/O and Network</a></li><li><a class="tocitem" href="../base/punctuation.html">Punctuation</a></li><li><a class="tocitem" href="../base/sort.html">Sorting and Related Functions</a></li><li><a class="tocitem" href="../base/iterators.html">Iteration utilities</a></li><li><a class="tocitem" href="../base/reflection.html">Reflection and introspection</a></li><li><a class="tocitem" href="../base/c.html">C Interface</a></li><li><a class="tocitem" href="../base/libc.html">C Standard Library</a></li><li><a class="tocitem" href="../base/stacktraces.html">StackTraces</a></li><li><a class="tocitem" href="../base/simd-types.html">SIMD Support</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Standard Library</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../stdlib/ArgTools.html">ArgTools</a></li><li><a class="tocitem" href="../stdlib/Artifacts.html">Artifacts</a></li><li><a class="tocitem" href="../stdlib/Base64.html">Base64</a></li><li><a class="tocitem" href="../stdlib/CRC32c.html">CRC32c</a></li><li><a class="tocitem" href="../stdlib/Dates.html">Dates</a></li><li><a class="tocitem" href="../stdlib/DelimitedFiles.html">Delimited Files</a></li><li><a class="tocitem" href="../stdlib/Distributed.html">Distributed Computing</a></li><li><a class="tocitem" href="../stdlib/Downloads.html">Downloads</a></li><li><a class="tocitem" href="../stdlib/FileWatching.html">File Events</a></li><li><a class="tocitem" href="../stdlib/Future.html">Future</a></li><li><a class="tocitem" href="../stdlib/InteractiveUtils.html">Interactive Utilities</a></li><li><a class="tocitem" href="../stdlib/JuliaSyntaxHighlighting.html">Julia Syntax Highlighting</a></li><li><a class="tocitem" href="../stdlib/LazyArtifacts.html">Lazy Artifacts</a></li><li><a class="tocitem" href="../stdlib/LibCURL.html">LibCURL</a></li><li><a class="tocitem" href="../stdlib/LibGit2.html">LibGit2</a></li><li><a class="tocitem" href="../stdlib/Libdl.html">Dynamic Linker</a></li><li><a class="tocitem" href="../stdlib/LinearAlgebra.html">Linear Algebra</a></li><li><a class="tocitem" href="../stdlib/Logging.html">Logging</a></li><li><a class="tocitem" href="../stdlib/Markdown.html">Markdown</a></li><li><a class="tocitem" href="../stdlib/Mmap.html">Memory-mapped I/O</a></li><li><a class="tocitem" href="../stdlib/NetworkOptions.html">Network Options</a></li><li><a class="tocitem" href="../stdlib/Pkg.html">Pkg</a></li><li><a class="tocitem" href="../stdlib/Printf.html">Printf</a></li><li><a class="tocitem" href="../stdlib/Profile.html">Profiling</a></li><li><a class="tocitem" href="../stdlib/REPL.html">The Julia REPL</a></li><li><a class="tocitem" href="../stdlib/Random.html">Random Numbers</a></li><li><a class="tocitem" href="../stdlib/SHA.html">SHA</a></li><li><a class="tocitem" href="../stdlib/Serialization.html">Serialization</a></li><li><a class="tocitem" href="../stdlib/SharedArrays.html">Shared Arrays</a></li><li><a class="tocitem" href="../stdlib/Sockets.html">Sockets</a></li><li><a class="tocitem" href="../stdlib/SparseArrays.html">Sparse Arrays</a></li><li><a class="tocitem" href="../stdlib/Statistics.html">Statistics</a></li><li><a class="tocitem" href="../stdlib/StyledStrings.html">StyledStrings</a></li><li><a class="tocitem" href="../stdlib/TOML.html">TOML</a></li><li><a class="tocitem" href="../stdlib/Tar.html">Tar</a></li><li><a class="tocitem" href="../stdlib/Test.html">Unit Testing</a></li><li><a class="tocitem" href="../stdlib/UUIDs.html">UUIDs</a></li><li><a class="tocitem" href="../stdlib/Unicode.html">Unicode</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">Developer Documentation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-6-1" type="checkbox"/><label class="tocitem" for="menuitem-6-1"><span class="docs-label">Documentation of Julia&#39;s Internals</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../devdocs/init.html">Initialization of the Julia runtime</a></li><li><a class="tocitem" href="../devdocs/ast.html">Julia ASTs</a></li><li><a class="tocitem" href="../devdocs/types.html">More about types</a></li><li><a class="tocitem" href="../devdocs/object.html">Memory layout of Julia Objects</a></li><li><a class="tocitem" href="../devdocs/eval.html">Eval of Julia code</a></li><li><a class="tocitem" href="../devdocs/callconv.html">Calling Conventions</a></li><li><a class="tocitem" href="../devdocs/compiler.html">High-level Overview of the Native-Code Generation Process</a></li><li><a class="tocitem" href="../devdocs/functions.html">Julia Functions</a></li><li><a class="tocitem" href="../devdocs/cartesian.html">Base.Cartesian</a></li><li><a class="tocitem" href="../devdocs/meta.html">Talking to the compiler (the <code>:meta</code> mechanism)</a></li><li><a class="tocitem" href="../devdocs/subarrays.html">SubArrays</a></li><li><a class="tocitem" href="../devdocs/isbitsunionarrays.html">isbits Union Optimizations</a></li><li><a class="tocitem" href="../devdocs/sysimg.html">System Image Building</a></li><li><a class="tocitem" href="../devdocs/pkgimg.html">Package Images</a></li><li><a class="tocitem" href="../devdocs/llvm-passes.html">Custom LLVM Passes</a></li><li><a class="tocitem" href="../devdocs/llvm.html">Working with LLVM</a></li><li><a class="tocitem" href="../devdocs/stdio.html">printf() and stdio in the Julia runtime</a></li><li><a class="tocitem" href="../devdocs/boundscheck.html">Bounds checking</a></li><li><a class="tocitem" href="../devdocs/locks.html">Proper maintenance and care of multi-threading locks</a></li><li><a class="tocitem" href="../devdocs/offset-arrays.html">Arrays with custom indices</a></li><li><a class="tocitem" href="../devdocs/require.html">Module loading</a></li><li><a class="tocitem" href="../devdocs/inference.html">Inference</a></li><li><a class="tocitem" href="../devdocs/ssair.html">Julia SSA-form IR</a></li><li><a class="tocitem" href="../devdocs/EscapeAnalysis.html"><code>EscapeAnalysis</code></a></li><li><a class="tocitem" href="../devdocs/aot.html">Ahead of Time Compilation</a></li><li><a class="tocitem" href="../devdocs/gc-sa.html">Static analyzer annotations for GC correctness in C code</a></li><li><a class="tocitem" href="../devdocs/gc.html">Garbage Collection in Julia</a></li><li><a class="tocitem" href="../devdocs/jit.html">JIT Design and Implementation</a></li><li><a class="tocitem" href="../devdocs/builtins.html">Core.Builtins</a></li><li><a class="tocitem" href="../devdocs/precompile_hang.html">Fixing precompilation hangs due to open tasks or IO</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-2" type="checkbox"/><label class="tocitem" for="menuitem-6-2"><span class="docs-label">Developing/debugging Julia&#39;s C code</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../devdocs/backtraces.html">Reporting and analyzing crashes (segfaults)</a></li><li><a class="tocitem" href="../devdocs/debuggingtips.html">gdb debugging tips</a></li><li><a class="tocitem" href="../devdocs/valgrind.html">Using Valgrind with Julia</a></li><li><a class="tocitem" href="../devdocs/external_profilers.html">External Profiler Support</a></li><li><a class="tocitem" href="../devdocs/sanitizers.html">Sanitizer support</a></li><li><a class="tocitem" href="../devdocs/probes.html">Instrumenting Julia with DTrace, and bpftrace</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-3" type="checkbox"/><label class="tocitem" for="menuitem-6-3"><span class="docs-label">Building Julia</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../devdocs/build/build.html">Building Julia (Detailed)</a></li><li><a class="tocitem" href="../devdocs/build/linux.html">Linux</a></li><li><a class="tocitem" href="../devdocs/build/macos.html">macOS</a></li><li><a class="tocitem" href="../devdocs/build/windows.html">Windows</a></li><li><a class="tocitem" href="../devdocs/build/freebsd.html">FreeBSD</a></li><li><a class="tocitem" href="../devdocs/build/arm.html">ARM (Linux)</a></li><li><a class="tocitem" href="../devdocs/build/riscv.html">RISC-V (Linux)</a></li><li><a class="tocitem" href="../devdocs/build/distributing.html">Binary distributions</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href="memory-management.html">Memory Management and Garbage Collection</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="memory-management.html">Memory Management and Garbage Collection</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaLang/julia" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaLang/julia/blob/master/doc/src/manual/memory-management.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="man-memory-management"><a class="docs-heading-anchor" href="#man-memory-management">Memory Management and Garbage Collection</a><a id="man-memory-management-1"></a><a class="docs-heading-anchor-permalink" href="#man-memory-management" title="Permalink"></a></h1><p>Julia uses automatic memory management through its built-in garbage collector (GC). This section provides an overview of how Julia manages memory and how you can configure and optimize memory usage for your applications.</p><h2 id="man-gc-overview"><a class="docs-heading-anchor" href="#man-gc-overview">Garbage Collection Overview</a><a id="man-gc-overview-1"></a><a class="docs-heading-anchor-permalink" href="#man-gc-overview" title="Permalink"></a></h2><p>Julia features a garbage collector with the following characteristics:</p><ul><li><strong>Non-moving</strong>: Objects are not relocated in memory during garbage collection</li><li><strong>Generational</strong>: Younger objects are collected more frequently than older ones</li><li><strong>Parallel and partially concurrent</strong>: The GC can use multiple threads and run concurrently with your program</li><li><strong>Mostly precise</strong>: The GC accurately identifies object references for pure Julia code, and it provides conservative scanning APIs for users calling Julia from C</li></ul><p>The garbage collector automatically reclaims memory used by objects that are no longer reachable from your program, freeing you from manual memory management in most cases.</p><h2 id="man-memory-architecture"><a class="docs-heading-anchor" href="#man-memory-architecture">Memory Architecture</a><a id="man-memory-architecture-1"></a><a class="docs-heading-anchor-permalink" href="#man-memory-architecture" title="Permalink"></a></h2><p>Julia uses a two-tier allocation strategy:</p><ul><li><strong>Small objects</strong> (currently ≤ 2032 bytes but may change): Allocated using a fast per-thread pool allocator</li><li><strong>Large objects</strong> : Allocated directly through the system&#39;s <code>malloc</code></li></ul><p>This hybrid approach optimizes for both allocation speed and memory efficiency, with the pool allocator providing fast allocation for the many small objects typical in Julia programs.</p><h2 id="man-system-memory"><a class="docs-heading-anchor" href="#man-system-memory">System Memory Requirements</a><a id="man-system-memory-1"></a><a class="docs-heading-anchor-permalink" href="#man-system-memory" title="Permalink"></a></h2><h3 id="Swap-Space"><a class="docs-heading-anchor" href="#Swap-Space">Swap Space</a><a id="Swap-Space-1"></a><a class="docs-heading-anchor-permalink" href="#Swap-Space" title="Permalink"></a></h3><p>Julia&#39;s garbage collector is designed with the expectation that your system has adequate swap space configured. The GC uses heuristics that assume it can allocate memory beyond physical RAM when needed, relying on the operating system&#39;s virtual memory management.</p><p>If your system has limited or no swap space, you may experience out-of-memory errors during garbage collection. In such cases, you can use the <code>--heap-size-hint</code> option to limit Julia&#39;s memory usage.</p><h3 id="Memory-Hints"><a class="docs-heading-anchor" href="#Memory-Hints">Memory Hints</a><a id="Memory-Hints-1"></a><a class="docs-heading-anchor-permalink" href="#Memory-Hints" title="Permalink"></a></h3><p>You can provide a hint to Julia about the maximum amount of memory to use:</p><pre><code class="language-bash hljs">julia --heap-size-hint=4G  # To set the hint to ~4GB
julia --heap-size-hint=50% # or to 50% of physical memory</code></pre><p>The <code>--heap-size-hint</code> option tells the garbage collector to trigger collection more aggressively when approaching the specified limit. This is particularly useful in:</p><ul><li>Containers with memory limits</li><li>Systems without swap space</li><li>Shared systems where you want to limit Julia&#39;s memory footprint</li></ul><p>You can also set this via the <code>JULIA_HEAP_SIZE_HINT</code> environment variable:</p><pre><code class="language-bash hljs">export JULIA_HEAP_SIZE_HINT=2G
julia</code></pre><h2 id="man-gc-multithreading"><a class="docs-heading-anchor" href="#man-gc-multithreading">Multithreaded Garbage Collection</a><a id="man-gc-multithreading-1"></a><a class="docs-heading-anchor-permalink" href="#man-gc-multithreading" title="Permalink"></a></h2><p>Julia&#39;s garbage collector can leverage multiple threads to improve performance on multi-core systems.</p><h3 id="GC-Thread-Configuration"><a class="docs-heading-anchor" href="#GC-Thread-Configuration">GC Thread Configuration</a><a id="GC-Thread-Configuration-1"></a><a class="docs-heading-anchor-permalink" href="#GC-Thread-Configuration" title="Permalink"></a></h3><p>By default, Julia uses multiple threads for garbage collection:</p><ul><li><strong>Mark threads</strong>: Used during the mark phase to trace object references (default: 1, which is shared with the compute thread if there is only one, otherwise half the number of compute threads)</li><li><strong>Sweep threads</strong>: Used for concurrent sweeping of freed memory (default: 0, disabled)</li></ul><p>You can configure GC threading using:</p><pre><code class="language-bash hljs">julia --gcthreads=4,1  # 4 mark threads, 1 sweep thread
julia --gcthreads=8    # 8 mark threads, 0 sweep threads</code></pre><p>Or via environment variable:</p><pre><code class="language-bash hljs">export JULIA_NUM_GC_THREADS=4,1
julia</code></pre><h3 id="Recommendations"><a class="docs-heading-anchor" href="#Recommendations">Recommendations</a><a id="Recommendations-1"></a><a class="docs-heading-anchor-permalink" href="#Recommendations" title="Permalink"></a></h3><p>For compute-intensive workloads:</p><ul><li>Use multiple mark threads (the default configuration is usually appropriate)</li><li>Consider enabling concurrent sweeping with 1 sweep thread for allocation-heavy workloads</li></ul><p>For memory-intensive workloads:</p><ul><li>Enable concurrent sweeping to reduce GC pauses</li><li>Monitor GC time using <code>@time</code> and adjust thread counts accordingly</li></ul><h2 id="man-gc-monitoring"><a class="docs-heading-anchor" href="#man-gc-monitoring">Monitoring and Debugging</a><a id="man-gc-monitoring-1"></a><a class="docs-heading-anchor-permalink" href="#man-gc-monitoring" title="Permalink"></a></h2><h3 id="Basic-Memory-Monitoring"><a class="docs-heading-anchor" href="#Basic-Memory-Monitoring">Basic Memory Monitoring</a><a id="Basic-Memory-Monitoring-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Memory-Monitoring" title="Permalink"></a></h3><p>Use the <code>@time</code> macro to see memory allocation and GC overhead:</p><pre><code class="language-julia hljs">julia&gt; @time some_computation()
  2.123456 seconds (1.50 M allocations: 58.725 MiB, 17.17% gc time)</code></pre><h3 id="GC-Logging"><a class="docs-heading-anchor" href="#GC-Logging">GC Logging</a><a id="GC-Logging-1"></a><a class="docs-heading-anchor-permalink" href="#GC-Logging" title="Permalink"></a></h3><p>Enable detailed GC logging to understand collection patterns:</p><pre><code class="language-julia hljs">julia&gt; GC.enable_logging(true)
julia&gt; # Run your code
julia&gt; GC.enable_logging(false)</code></pre><p>This logs each garbage collection event with timing and memory statistics.</p><h3 id="Manual-GC-Control"><a class="docs-heading-anchor" href="#Manual-GC-Control">Manual GC Control</a><a id="Manual-GC-Control-1"></a><a class="docs-heading-anchor-permalink" href="#Manual-GC-Control" title="Permalink"></a></h3><p>While generally not recommended, you can manually trigger garbage collection:</p><pre><code class="language-julia hljs">GC.gc()          # Force a garbage collection
GC.enable(false) # Disable automatic GC (use with caution!)
GC.enable(true)  # Re-enable automatic GC</code></pre><p><strong>Warning</strong>: Disabling GC can lead to memory exhaustion. Only use this for specific performance measurements or debugging.</p><h2 id="man-gc-performance"><a class="docs-heading-anchor" href="#man-gc-performance">Performance Considerations</a><a id="man-gc-performance-1"></a><a class="docs-heading-anchor-permalink" href="#man-gc-performance" title="Permalink"></a></h2><h3 id="Reducing-Allocations"><a class="docs-heading-anchor" href="#Reducing-Allocations">Reducing Allocations</a><a id="Reducing-Allocations-1"></a><a class="docs-heading-anchor-permalink" href="#Reducing-Allocations" title="Permalink"></a></h3><p>The best way to minimize GC impact is to reduce unnecessary allocations:</p><ul><li>Use in-place operations when possible (e.g., <code>x .+= y</code> instead of <code>x = x + y</code>)</li><li>Pre-allocate arrays and reuse them</li><li>Avoid creating temporary objects in tight loops</li><li>Consider using <code>StaticArrays.jl</code> for small, fixed-size arrays</li></ul><h3 id="Memory-Efficient-Patterns"><a class="docs-heading-anchor" href="#Memory-Efficient-Patterns">Memory-Efficient Patterns</a><a id="Memory-Efficient-Patterns-1"></a><a class="docs-heading-anchor-permalink" href="#Memory-Efficient-Patterns" title="Permalink"></a></h3><ul><li>Avoid global variables that change type</li><li>Use <code>const</code> for global constants</li></ul><h3 id="Profiling-Memory-Usage"><a class="docs-heading-anchor" href="#Profiling-Memory-Usage">Profiling Memory Usage</a><a id="Profiling-Memory-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Profiling-Memory-Usage" title="Permalink"></a></h3><p>For detailed guidance on profiling memory allocations and identifying performance bottlenecks, see the <a href="../base/math.html#Base.:--Tuple{Any, Any}">Profiling</a> section.</p><h2 id="man-gc-advanced"><a class="docs-heading-anchor" href="#man-gc-advanced">Advanced Configuration</a><a id="man-gc-advanced-1"></a><a class="docs-heading-anchor-permalink" href="#man-gc-advanced" title="Permalink"></a></h2><h3 id="Integration-with-System-Memory-Management"><a class="docs-heading-anchor" href="#Integration-with-System-Memory-Management">Integration with System Memory Management</a><a id="Integration-with-System-Memory-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Integration-with-System-Memory-Management" title="Permalink"></a></h3><p>Julia works best when:</p><ul><li>The system has adequate swap space (recommended: 2x physical RAM)</li><li>Virtual memory is properly configured</li><li>Other processes leave sufficient memory available</li><li>Container memory limits are set appropriately with <code>--heap-size-hint</code></li></ul><h2 id="man-gc-troubleshooting"><a class="docs-heading-anchor" href="#man-gc-troubleshooting">Troubleshooting Memory Issues</a><a id="man-gc-troubleshooting-1"></a><a class="docs-heading-anchor-permalink" href="#man-gc-troubleshooting" title="Permalink"></a></h2><h3 id="High-GC-Overhead"><a class="docs-heading-anchor" href="#High-GC-Overhead">High GC Overhead</a><a id="High-GC-Overhead-1"></a><a class="docs-heading-anchor-permalink" href="#High-GC-Overhead" title="Permalink"></a></h3><p>If garbage collection is taking too much time:</p><ol><li><strong>Reduce allocation rate</strong>: Focus on algorithmic improvements</li><li><strong>Adjust GC threads</strong>: Experiment with different <code>--gcthreads</code> settings</li><li><strong>Use concurrent sweeping</strong>: Enable background sweeping with <code>--gcthreads=N,1</code></li><li><strong>Profile memory patterns</strong>: Identify allocation hotspots and optimize them</li></ol><h3 id="Memory-Leaks"><a class="docs-heading-anchor" href="#Memory-Leaks">Memory Leaks</a><a id="Memory-Leaks-1"></a><a class="docs-heading-anchor-permalink" href="#Memory-Leaks" title="Permalink"></a></h3><p>While Julia&#39;s GC prevents most memory leaks, issues can still occur:</p><ul><li><strong>Global references</strong>: Avoid holding references to large objects in global variables</li><li><strong>Closures</strong>: Be careful with closures that capture large amounts of data</li><li><strong>C interop</strong>: Ensure proper cleanup when interfacing with C libraries</li></ul><p>For more detailed information about Julia&#39;s garbage collector internals, see the Garbage Collection section in the Developer Documentation.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="stacktraces.html">« Stack Traces</a><a class="docs-footer-nextpage" href="performance-tips.html">Performance Tips »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.0 on <span class="colophon-date" title="Thursday 20 November 2025 18:16">Thursday 20 November 2025</span>. Using Julia version 1.12.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
